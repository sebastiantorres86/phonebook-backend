{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/people.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchTerm","handleChange","type","value","onChange","PersonForm","addPerson","handleNameChange","newName","newNumber","handleNumberChange","onSubmit","Persons","person","removePerson","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","style","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","setStyle","useEffect","peopleService","initialPeople","results","filter","toLowerCase","includes","toLocaleLowerCase","window","confirm","del","catch","error","setTimeout","event","target","preventDefault","personObject","duplicateName","some","duplicateNumber","alert","find","changedPerson","map","returnedPerson","concat","Person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.32c0a40e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ searchTerm, handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{' '}\r\n      <input type='text' value={searchTerm} onChange={handleChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  handleNameChange,\r\n  newName,\r\n  newNumber,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ person, removePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}{' '}\r\n      <button\r\n        onClick={() => {\r\n          removePerson(person.id, person.name)\r\n        }}\r\n      >\r\n        delete\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, data) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, data)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return <div className={style}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport peopleService from './services/people'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [message, setMessage] = useState(null)\n  const [style, setStyle] = useState('')\n\n  useEffect(() => {\n    peopleService.getAll().then(initialPeople => {\n      setPersons(initialPeople)\n    })\n  }, [])\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value)\n  }\n\n  const results = !searchTerm\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(searchTerm.toLocaleLowerCase())\n      )\n\n  const addPerson = event => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const duplicateName = persons.some(person => person.name === newName)\n    const duplicateNumber = persons.some(person => person.number === newNumber)\n\n    if (!duplicateName) {\n      peopleService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setStyle('success')\n        setMessage(`Added ${personObject.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    } else if (duplicateName && duplicateNumber) {\n      window.alert(`${newName} is already added to the phonebook`)\n    } else if (duplicateName && !duplicateNumber) {\n      const person = persons.find(person => person.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n      window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n        ? peopleService\n            .update(changedPerson.id, changedPerson)\n            .then(response => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== changedPerson.id ? person : response\n                )\n              )\n              setStyle('success')\n              setMessage(`Updated ${personObject.name}`)\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n        : setPersons(persons)\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      peopleService\n        .remove(id)\n        .then(() => {\n          const del = persons.filter(person => id !== person.id)\n          setPersons(del)\n        })\n        .catch(error => {\n          setStyle('error')\n          setMessage(\n            `Information of ${name} has already been removed from server`\n          )\n          setTimeout(() => {\n            setMessage(null)\n            setPersons(persons.filter(person => id !== person.id))\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification style={style} message={message} />\n      <Filter searchTerm={searchTerm} handleChange={handleChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {results.map(person => (\n        <Person key={person.id} person={person} removePerson={removePerson} />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}